<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Document</title>
  </head>
  <body>

    <div id="data" class="info_s"></div>
    <div id="email" class="info_f"></div>
    <div id="name" class="info_g"></div>
    <div id="username" class="info_h"></div>
    <div id="codepen" class="info_j"></div>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
      // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-analytics.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-analytics.js";
      import {
        getFirestore,
        collection,
        getDocs,
      } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-firestore.js";

      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration

      const firebaseConfig = {
        apiKey: "AIzaSyBaPsn82u0CblmIXb9SktjOvfq2vRqeBPY",
        authDomain: "macos-luna.firebaseapp.com",
        databaseURL:
          "https://macos-luna-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "macos-luna",
        storageBucket: "macos-luna.appspot.com",
        messagingSenderId: "689056077392",
        appId: "1:689056077392:web:8275d5fe7f18ac35a5a355",
        measurementId: "G-5EMDZ1MDC2",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      // const analytics = getAnalytics(app);

      const emailElem = document.getElementById("email");
      const nameElem = document.getElementById("name");
      const usernameElem = document.getElementById("username");
      const messageElem = document.getElementById("message");
      const codepenElem = document.getElementById("codepen");
      const docRef_onwer = getDocs(collection(db, "onwer"));

    //   const elements_owner = {
    //     email: emailElem,
    //     name: nameElem,
    //     username: usernameElem,
    //     social: codepenElem,
    //   };
    //   console.log(elements_owner, "elements");
      docRef_onwer
        .then((querySnapshot) => {
          //   console.log(querySnapshot);
          querySnapshot.forEach((doc) => {
            if (doc.exists) {
              const data = doc.data();
              const meObj = {
                email: data.email,
                firstName: data.firstName,
                lastName: data.lastName,
                social: data.social.codepen,
              };
              emailElem.innerHTML = meObj.email;
              nameElem.innerHTML = meObj.firstName;
              usernameElem.innerHTML = meObj.lastName;
              codepenElem.innerHTML = meObj.social;
              console.log(meObj);
            } else {
              console.log("No such document!");
            }
          });
        })
        .catch((error) => {
          console.log("Error getting documents: ", error);
        });
    </script>
  </body>
</html>
